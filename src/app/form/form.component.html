<!-- <ngb-accordion [closeOthers]="true">
  <ngb-panel *ngFor="let section of schema?.geminiForm || []" [id]="'s-' + section.id" [title]="section.section">
    <ng-template ngbPanelContent>
      <div *ngFor="let element of section.elements" class="mb-3">
        <label for="{{section.id}}-{{element.id}}" class="form-label">{{element.param}}</label>
        <ng-container [ngSwitch]="element.dataType">
          <select *ngSwitchCase="'pickerinputrow'" [(ngModel)]="data[element.id]" (change)="setDirty()"
                  class="form-select"
                  id="{{section.id}}-{{element.id}}" [attr.aria-describedby]="section.id + '-' + element.id + '-help'">
            <option *ngFor="let value of element.defaultValues.split(',')"
                    [value]="value.substring(value.indexOf(':') + 1)">
              {{value.substring(value.indexOf(':') + 1)}}
            </option>
          </select>
          <textarea *ngSwitchCase="'textarearow'" [(ngModel)]="data[element.id]" (change)="setDirty()"
                    class="form-control"
                    id="{{section.id}}-{{element.id}}"
                    [attr.aria-describedby]="section.id + '-' + element.id + '-help'"></textarea>
          <input *ngSwitchDefault [(ngModel)]="data[element.id]" (change)="setDirty()"
                 [type]="element.dataType | formInputType" class="form-control"
                 [step]="element.dataType === 'introw' ? 1 : null"
                 id="{{section.id}}-{{element.id}}" [attr.aria-describedby]="section.id + '-' + element.id + '-help'">
        </ng-container>
        <div id="{{section.id}}-{{element.id}}-help" class="form-text">{{element.hint}}</div>
      </div>
    </ng-template>
  </ngb-panel>
</ngb-accordion> -->

<ngb-accordion [closeOthers]="true" (panelChange)="getData($event)" *ngIf="!equipmentService.equipmentSubTypeData">
  <ngb-panel title="Auditor Info">
    <ng-template ngbPanelContent>
      <div class="mb-3">
        <label for="auditInfoName" class="form-label text-white">Name</label>
        <select [(ngModel)]="auditorInfo.preAuditauditorName" (change)="setDirty()" class="form-select"
          id="auditInfoName">
          <option *ngFor="let value of auditInfoNameList" [value]="value"> {{value}} </option>
        </select>
        <div class="form-text mb-3">rq</div>
        <label for="auditInfoEmail" class="form-label text-white">Email</label>
        <input [(ngModel)]="auditorInfo.preAuditauditorEmail" (change)="setDirty()" type="text" class="form-control"
          id="auditInfoEmail">
        <div class="form-text mb-3">rq</div>
        <label for="auditInfoPhone" class="form-label text-white">Phone Number</label>
        <input [(ngModel)]="auditorInfo.preAuditauditorPhoneNumber" (change)="setDirty()" type="text"
          class="form-control" id="auditInfoPhone">
        <div class="form-text">rq</div>
      </div>
    </ng-template>
  </ngb-panel>
  <ngb-panel title="General Client Info">
    <ng-template ngbPanelContent>
      <div class="mb-3">
        <label for="genralClientInfoName" class="form-label text-white">Name</label>
        <input [(ngModel)]="genralClientInfo.preAuditclientName" (change)="setDirty()" type="text" class="form-control"
          id="genralClientInfoName">
        <div class="form-text mb-3">rq</div>
        <label for="genralClientInfoPosition" class="form-label text-white">Position</label>
        <input [(ngModel)]="genralClientInfo.preAuditclientPosition" (change)="setDirty()" type="text"
          class="form-control mb-3" id="genralClientInfoPosition">
        <label for="genralClientInfoEmail" class="form-label text-white">Email</label>
        <input [(ngModel)]="genralClientInfo.preAuditclientEmail" (change)="setDirty()" type="text"
          class="form-control mb-3" id="genralClientInfoEmail">
        <label for="genralClientInfoPhoneNumber" class="form-label text-white">Phone Number</label>
        <input [(ngModel)]="genralClientInfo.preAuditclientPhoneNum" (change)="setDirty()" type="number"
          class="form-control mb-3" id="genralClientInfoPhoneNumber">
        <label for="genralClientInfoAddressLine1" class="form-label text-white">AddressLine 1</label>
        <textarea [(ngModel)]="genralClientInfo.preAuditclientAddressLine1" rows="2" (change)="setDirty()"
          class="form-control" id="genralClientInfoAddressLine1">
        </textarea>
        <div class="form-text mb-3">rq</div>
        <label for="genralClientInfoAddressLine2" class="form-label text-white">AddressLine 2</label>
        <textarea [(ngModel)]="genralClientInfo.preAuditclientAddressLine2" rows="2" (change)="setDirty()"
          class="form-control mb-3" id="genralClientInfoAddressLine2">
        </textarea>
        <label for="genralClientInfoCity" class="form-label text-white">City</label>
        <input [(ngModel)]="genralClientInfo.preAuditclientCity" (change)="setDirty()" type="text" class="form-control"
          id="genralClientInfoCity">
        <div class="form-text mb-3">rq</div>
        <label for="genralClientInfoState" class="form-label text-white">State</label>
        <input [(ngModel)]="genralClientInfo.preAuditclientState" (change)="setDirty()" type="text" class="form-control"
          id="genralClientInfoState">
        <div class="form-text mb-3">rq</div>
        <label for="genralClientInfoZipCode" class="form-label text-white">Zip Code</label>
        <input [(ngModel)]="genralClientInfo.preAuditclientZipCode" (change)="setDirty()" type="number"
          class="form-control" id="genralClientInfoZipCode">
        <div class="form-text mb-3">rq</div>
        <label for="genralClientInfoBusinessName" class="form-label text-white">Business Name</label>
        <input [(ngModel)]="genralClientInfo.preAuditclientBusinessName" (change)="setDirty()" type="text"
          class="form-control" id="genralClientInfoBusinessName">
        <div class="form-text mb-3">rq</div>
        <label for="genralClientInfoFacilityType" class="form-label text-white">Facility Type</label>
        <select [(ngModel)]="genralClientInfo.preAuditclientFacilityType" (change)="setDirty()" class="form-select"
          id="genralClientInfoFacilityType">
          <option *ngFor="let value of genralClientInfoFacilityType" [value]="value"> {{value}} </option>
        </select>
        <div class="form-text mb-3">rq</div>
        <label for="genralClientInfoFacilityTypeOther" class="form-label text-white">Facility Type (Others)</label>
        <input [(ngModel)]="genralClientInfo.preAuditclientFacilityTypeOther" (change)="setDirty()" type="text"
          class="form-control mb-3" id="genralClientInfoFacilityTypeOther">
        <label for="genralClientInfopreAuditauditStartDate" class="form-label text-white">Audit Start Date</label>
        <input [ngModel]="genralClientInfo.preAuditauditStartDate | date:'yyyy-MM-dd'" type="date"
          (ngModelChange)="this.genralClientInfo.preAuditauditStartDate=$event" class="form-control"
          id="genralClientInfopreAuditauditStartDate">
        <div class="form-text mb-3">rq</div>
        <label for="genralClientInfopreAuditauditEndDate" class="form-label text-white">Audit End Date</label>
        <input [ngModel]="genralClientInfo.preAuditauditEndDate | date:'yyyy-MM-dd'" type="date"
          (ngModelChange)="this.genralClientInfo.preAuditauditEndDate=$event" class="form-control"
          id="genralClientInfopreAuditauditEndDate">
      </div>
    </ng-template>
  </ngb-panel>
  <ngb-panel title="Interviewee">
    <ng-template ngbPanelContent>
      <div class="mb-3">
        <label for="intervieweeName" class="form-label text-white">Name</label>
        <input [(ngModel)]="interviewee.preAuditintervieweeName" (change)="setDirty()" type="text"
          class="form-control mb-3" id="intervieweeName">
        <label for="intervieweePosition" class="form-label text-white">Position</label>
        <input [(ngModel)]="interviewee.preAuditintervieweePosition" (change)="setDirty()" type="text"
          class="form-control mb-3" id="intervieweePosition">
        <label for="intervieweeEmail" class="form-label text-white">Email</label>
        <input [(ngModel)]="interviewee.preAuditintervieweeEmail" (change)="setDirty()" type="email"
          class="form-control mb-3" id="intervieweeEmail">
        <label for="intervieweePhone" class="form-label text-white">Phone Number</label>
        <input [(ngModel)]="interviewee.preAuditintervieweePhoneNum" (change)="setDirty()" type="number"
          class="form-control" id="intervieweePhone">
      </div>
    </ng-template>
  </ngb-panel>
  <ngb-panel title="Operation Hours">
    <ng-template ngbPanelContent>
      <div class="mb-3">
        <label for="operationHoursNumberOfVacationDays" class="form-label text-white">Number Of Vacation
          Days</label>
        <input [(ngModel)]="operationHours.vacationDays" (change)="setDirty()" type="number" class="form-control mb-3"
          id="operationHoursNumberOfVacationDays">

        <div class="row">
          <div class="col">
            <label for="operationHoursmondayOpening" class="form-label text-white">Monday Opening</label>
            <input [(ngModel)]="operationHours.mondayOpening" (change)="setDirty()" type="text" class="form-control"
              id="operationHoursmondayOpening">
            <div class="form-text mb-3">rq 9:00 12:00</div>
          </div>
          <div class="col">
            <label for="operationHoursmondayClosing" class="form-label text-white">Monday Closing</label>
            <input [(ngModel)]="operationHours.mondayClosing" (change)="setDirty()" type="text" class="form-control"
              id="operationHoursmondayClosing">
            <div class="form-text mb-3">rq 13:00 18:00</div>
          </div>
        </div>

        <div class="row">
          <div class="col">
            <label for="operationHourstuesdayOpening" class="form-label text-white">Tuesday Opening</label>
            <input [(ngModel)]="operationHours.tuesdayOpening" (change)="setDirty()" type="text" class="form-control"
              id="operationHourstuesdayOpening">
            <div class="form-text mb-3">rq 9:00 12:00</div>
          </div>
          <div class="col">
            <label for="operationHourstuesdayClosing" class="form-label text-white">Tuesday Closing</label>
            <input [(ngModel)]="operationHours.tuesdayClosing" (change)="setDirty()" type="text" class="form-control"
              id="operationHourstuesdayClosing">
            <div class="form-text mb-3">rq 13:00 18:01</div>
          </div>
        </div>

        <div class="row">
          <div class="col">
            <label for="operationHourswednesdayOpening" class="form-label text-white">Wednesday Opening</label>
            <input [(ngModel)]="operationHours.wednesdayOpening" (change)="setDirty()" type="text" class="form-control"
              id="operationHourswednesdayOpening">
            <div class="form-text mb-3">rq 9:00 12:00</div>
          </div>
          <div class="col">
            <label for="operationHourswednesdayClosing" class="form-label text-white">Wednesday Closing</label>
            <input [(ngModel)]="operationHours.wednesdayClosing" (change)="setDirty()" type="text" class="form-control"
              id="operationHourswednesdayClosing">
            <div class="form-text mb-3">rq 9:00 12:00</div>
          </div>
        </div>

        <div class="row">
          <div class="col">
            <label for="operationHoursthursdayOpening" class="form-label text-white">Thursday Opening</label>
            <input [(ngModel)]="operationHours.thursdayOpening" (change)="setDirty()" type="text" class="form-control"
              id="operationHoursthursdayOpening">
            <div class="form-text mb-3">rq 9:00 12:00</div>
          </div>
          <div class="col">
            <label for="operationHoursthursdayClosing" class="form-label text-white">Thursday Closing</label>
            <input [(ngModel)]="operationHours.thursdayClosing" (change)="setDirty()" type="text" class="form-control"
              id="operationHoursthursdayClosing">
            <div class="form-text mb-3">rq 13:00 18:03</div>
          </div>
        </div>

        <div class="row">
          <div class="col">
            <label for="operationHoursfridayOpening" class="form-label text-white">Friday Opening</label>
            <input [(ngModel)]="operationHours.fridayOpening" (change)="setDirty()" type="text" class="form-control"
              id="operationHoursfridayOpening">
            <div class="form-text mb-3">rq 9:00 12:00</div>
          </div>
          <div class="col">
            <label for="operationHoursfridayClosing" class="form-label text-white">Friday Closing</label>
            <input [(ngModel)]="operationHours.fridayClosing" (change)="setDirty()" type="text" class="form-control"
              id="operationHoursfridayClosing">
            <div class="form-text mb-3">rq 13:00 18:04</div>
          </div>
        </div>

        <div class="row">
          <div class="col">
            <label for="operationHourssaturdayOpening" class="form-label text-white">Saturday Opening</label>
            <input [(ngModel)]="operationHours.saturdayOpening" (change)="setDirty()" type="text" class="form-control"
              id="operationHourssaturdayOpening">
            <div class="form-text mb-3">rq 9:00 12:00</div>
          </div>
          <div class="col">
            <label for="operationHourssaturdayClosing" class="form-label text-white">Saturday Closing</label>
            <input [(ngModel)]="operationHours.saturdayClosing" (change)="setDirty()" type="text" class="form-control"
              id="operationHourssaturdayClosing">
            <div class="form-text mb-3">rq 13:00 18:05</div>
          </div>
        </div>

        <div class="row">
          <div class="col">
            <label for="operationHourssundayOpening" class="form-label text-white">Sunday Opening</label>
            <input [(ngModel)]="operationHours.sundayOpening" (change)="setDirty()" type="text" class="form-control"
              id="operationHourssundayOpening">
            <div class="form-text mb-3">rq 9:00 12:00</div>
          </div>
          <div class="col">
            <label for="operationHours" class="form-label text-white">Sunday Closing</label>
            <input [(ngModel)]="operationHours.sundayClosing" (change)="setDirty()" type="text" class="form-control"
              id="operationHours">
            <div class="form-text mb-3">rq 13:00 18:06</div>
          </div>
        </div>

        <!-- <label for="operationHoursMondayOperatingHours" class="form-label text-white">Monday Operating Hours</label>
        <input [(ngModel)]="operationHours.MondayOperatingHours" (change)="setDirty()" type="text" class="form-control"
          id="operationHoursMondayOperatingHours">
        <div class="form-text mb-3">rq 9:00 12:00, 13:00 18:00</div>
        <label for="operationHoursTuesdayOperatingHours" class="form-label text-white">Tuesday Operating Hours</label>
        <input [(ngModel)]="operationHours.TuesdayOperatingHours" (change)="setDirty()" type="text" class="form-control"
          id="operationHoursTuesdayOperatingHours">
        <div class="form-text mb-3">rq 9:00 12:00, 13:00 18:01</div>
        <label for="operationHoursWedenesdayOperatingHours" class="form-label text-white">Wedenesday Operating
          Hours</label>
        <input [(ngModel)]="operationHours.WedenesdayOperatingHours" (change)="setDirty()" type="text"
          class="form-control" id="operationHoursWedenesdayOperatingHours">
        <div class="form-text mb-3">rq 9:00 12:00, 13:00 18:02</div>
        <label for="operationHoursThursdayOperatingHours" class="form-label text-white">Thursday Operating Hours</label>
        <input [(ngModel)]="operationHours.ThursdayOperatingHours" (change)="setDirty()" type="text"
          class="form-control" id="operationHoursThursdayOperatingHours">
        <div class="form-text mb-3">rq 9:00 12:00, 13:00 18:03</div>
        <label for="operationHoursFridayOperatingHours" class="form-label text-white">Friday Operating Hours</label>
        <input [(ngModel)]="operationHours.FridayOperatingHours" (change)="setDirty()" type="text" class="form-control"
          id="operationHoursFridayOperatingHours">
        <div class="form-text mb-3">rq 9:00 12:00, 13:00 18:04</div>
        <label for="operationHoursSaturdayOperatingHours" class="form-label text-white">Saturday Operating Hours</label>
        <input [(ngModel)]="operationHours.SaturdayOperatingHours" (change)="setDirty()" type="text"
          class="form-control" id="operationHoursSaturdayOperatingHours">
        <div class="form-text mb-3">rq 9:00 12:00, 13:00 18:05</div>
        <label for="operationHoursSundayOperatingHours" class="form-label text-white">Sunday Operating Hours</label>
        <input [(ngModel)]="operationHours.SundayOperatingHours" (change)="setDirty()" type="text" class="form-control"
          id="operationHoursSundayOperatingHours">
        <div class="form-text mb-3">rq 9:00 12:00, 13:00 18:06</div> -->
        <label for="operationHoursNotes" class="form-label text-white">Notes</label>
        <input [(ngModel)]="operationHours.notes" (change)="setDirty()" type="text" class="form-control"
          id="operationHoursNotes">
      </div>
    </ng-template>
  </ngb-panel>
  <ngb-panel title="Area">
    <ng-template ngbPanelContent>
      <div class="mb-3">
        <label for="areaTotal" class="form-label text-white">Total (Sq.Ft.)</label>
        <input [(ngModel)]="area.buildingTotalArea" (change)="setDirty()" type="number" class="form-control mb-3"
          id="areaTotal">
        <label for="areaConditioned" class="form-label text-white">Conditioned (Sq.Ft.)</label>
        <input [(ngModel)]="area.buildingConditionedArea" (change)="setDirty()" type="number" class="form-control"
          id="areaConditioned">
        <div class="form-text mb-3">rq for HVAC calcs</div>
      </div>
    </ng-template>
  </ngb-panel>
  <ngb-panel title="Age">
    <ng-template ngbPanelContent>
      <div class="mb-3">
        <label for="ageYearConstructed" class="form-label text-white">Year Constructed</label>
        <input [(ngModel)]="age.yearConstructed" (change)="setDirty()" type="number" class="form-control mb-3"
          id="ageYearConstructed">
        <label for="ageYearLightSystemWasInstalled" class="form-label text-white">Year Light System Was
          Installed/Replaced</label>
        <input [(ngModel)]="age.yearLightSystemInstalledOrReplaced" (change)="setDirty()" type="number"
          class="form-control mb-3" id="ageYearLightSystemWasInstalled">
        <label for="ageYearCoolingSystemWasInstalled" class="form-label text-white">Year Cooling System Was
          Installed/Replaced</label>
        <input [(ngModel)]="age.yearCoolingSystemInstalledOrReplaced" (change)="setDirty()" type="number"
          class="form-control mb-3" id="ageYearCoolingSystemWasInstalled">
        <label for="ageYearHeatingSystemWasInstalled" class="form-label text-white">Year Heating System Was
          Installed/Replaced</label>
        <input [(ngModel)]="age.yearHeatingSystemInstalledOrReplaced" (change)="setDirty()" type="number"
          class="form-control mb-3" id="ageYearHeatingSystemWasInstalled">
        <label for="ageYearMajorKitchenEquipmentWasInstalled" class="form-label text-white">Year Major Kitchen Equipment
          Was Installed/Replaced</label>
        <input [(ngModel)]="age.yearKitchenEquipmentInstalledOrReplaced" (change)="setDirty()" type="number"
          class="form-control" id="ageYearMajorKitchenEquipmentWasInstalled">
      </div>
    </ng-template>
  </ngb-panel>
  <ngb-panel title="HVAC Maintenance">
    <ng-template ngbPanelContent>
      <div class="mb-3">
        <label for="hvacMaintenanceContractType" class="form-label text-white">Contract Type</label>
        <select [(ngModel)]="hvacMaintenance.buildingHvacMaintainenceContractType" (change)="setDirty()"
          class="form-select mb-3" id="hvacMaintenanceContractType">
          <option value="PM contract">PM Contract</option>
          <option value="self-maintained">Self-Maintained</option>
        </select>
        <label for="hvacMaintenanceHVACMaintenanceFrequency" class="form-label text-white">
          HVAC Maintenance Frequency (times/year)
        </label>
        <input [(ngModel)]="hvacMaintenance.buildingHvacMaintainenceFrequency" (change)="setDirty()" type="number"
          class="form-control mb-3" id="hvacMaintenanceHVACMaintenanceFrequency">
        <label for="hvacMaintenanceHVACContractorsName" class="form-label text-white">HVAC Contractor's Name</label>
        <input [(ngModel)]="hvacMaintenance.buildingHvacContractorName" (change)="setDirty()" type="text"
          class="form-control mb-3" id="hvacMaintenanceHVACContractorsName">
        <label for="hvacMaintenanceHVACPhoneNumber" class="form-label text-white">HVAC Phone Number</label>
        <input [(ngModel)]="hvacMaintenance.buildingHvacContractorPhoneNum" (change)="setDirty()" type="number"
          class="form-control" id="hvacMaintenanceHVACPhoneNumber">
      </div>
    </ng-template>
  </ngb-panel>
  <ngb-panel title="Others">
    <ng-template ngbPanelContent>
      <div class="mb-3">
        <label for="othersElectricUtilityCompany" class="form-label text-white">Electric Utility Company</label>
        <input [(ngModel)]="others.buildingElectricUtilityCompany" (change)="setDirty()" type="text"
          class="form-control" id="othersElectricUtilityCompany">
        <div class="form-text mb-3">rq</div>
        <label for="othersGasUtilityCompany" class="form-label text-white">Gas Utility Company</label>
        <input [(ngModel)]="others.buildingGasUtilityCompany" (change)="setDirty()" type="text" class="form-control"
          id="othersGasUtilityCompany">
        <div class="form-text mb-3">rq if relevant</div>
        <label for="othersGasRateStructure" class="form-label text-white">Gas Rate Structure</label>
        <input [(ngModel)]="others.buildingGasRateStructure" (change)="setDirty()" type="text" class="form-control"
          id="othersGasRateStructure">
        <div class="form-text mb-3">rq</div>
        <label for="othersElectricRateStructure" class="form-label text-white">Electric Rate Structure</label>
        <input [(ngModel)]="others.buildingElectricRateStructure" (change)="setDirty()" type="text" class="form-control"
          id="othersElectricRateStructure">
        <div class="form-text">rq</div>
      </div>
    </ng-template>
  </ngb-panel>
  <ngb-panel title="General Site Access and Notes">
    <ng-template ngbPanelContent>
      <div class="mb-3">
        <label for="generalSiteAccessAndNotesHVACEquipmentLocation" class="form-label text-white">
          Where is your HVAC equipment
        </label>
        <input [(ngModel)]="generalSiteAccessAndNotes.hvacEquipmentLocation" (change)="setDirty()" type="text"
          class="form-control" id="generalSiteAccessAndNotesHVACEquipmentLocation">
        <div class="form-text mb-3">rq</div>
        <label for="generalSiteAccessAndNotesAreaAccess" class="form-label text-white">
          Are you able to provide access to all areas including the roof?
        </label>
        <select [(ngModel)]="generalSiteAccessAndNotes.buildingCompleteAccess" (change)="setDirty()" class="form-select"
          id="generalSiteAccessAndNotesAreaAccess">
          <option value="true">Yes</option>
          <option value="false">No</option>
        </select>
        <div class="form-text mb-3">rq</div>
        <label for="generalSiteAccessAndNotesSiteNotes" class="form-label text-white">General site notes</label>
        <textarea [(ngModel)]="generalSiteAccessAndNotes.buildingGeneralNotes" rows="2" (change)="setDirty()"
          class="form-control mb-3" id="generalSiteAccessAndNotesSiteNotes">
        </textarea>
        <label for="generalSiteAccessAndNotesIssuesHeatingCooling" class="form-label text-white">
          Any issues with heating/cooling of space?
        </label>
        <textarea [(ngModel)]="generalSiteAccessAndNotes.issuesWithHeatingOrCooling" rows="2" (change)="setDirty()"
          class="form-control mb-3" id="generalSiteAccessAndNotesIssuesHeatingCooling">
        </textarea>
        <label for="generalSiteAccessAndNotesIssuesSeasonal" class="form-label text-white">
          Seasonal issues? e.g., comfort or equipment failures?
        </label>
        <textarea [(ngModel)]="generalSiteAccessAndNotes.buildingSeasonalIssues" rows="2" (change)="setDirty()"
          class="form-control mb-3" id="generalSiteAccessAndNotesIssuesSeasonal">
        </textarea>
        <label for="generalSiteAccessAndNotesGasRemoved" class="form-label text-white">
          Will all gas be removed with retrofit?
        </label>
        <select [(ngModel)]="generalSiteAccessAndNotes.gasRemovalAfterRetrofit" (change)="setDirty()"
          class="form-select" id="generalSiteAccessAndNotesGasRemoved">
          <option value="true">Yes</option>
          <option value="false">No</option>
        </select>
        <div class="form-text mb-3">impacts saving estimates</div>
        <label for="generalSiteAccessAndNotesOperationLimitedCovid" class="form-label text-white">
          Is Operation still limited due to COVID?
        </label>
        <select [(ngModel)]="generalSiteAccessAndNotes.operationLimitedCovid" (change)="setDirty()"
          class="form-select mb-3" id="generalSiteAccessAndNotesOperationLimitedCovid">
          <option value="true">Yes</option>
          <option value="false">No</option>
        </select>
        <label for="generalSiteAccessAndNotesUniqueRoom" class="form-label text-white">
          How Many Unique Rooms are there?
        </label>
        <input [(ngModel)]="generalSiteAccessAndNotes.numberOfUniqueRooms" (change)="setDirty()" type="number"
          class="form-control" id="generalSiteAccessAndNotesUniqueRoom">
        <label for="generalSiteAccessAndNotesBms" class="form-label text-white">
          Is there a Building Management System (BMS) in use for energy management?
        </label>
        <select [(ngModel)]="generalSiteAccessAndNotes.bmsForEnergyManagement" (change)="setDirty()" class="form-select"
          id="generalSiteAccessAndNotesBms">
          <option value="true">Yes</option>
          <option value="false">No</option>
        </select>
      </div>
    </ng-template>
  </ngb-panel>
</ngb-accordion>

<!-- <ngb-accordion [closeOthers]="true" *ngIf="equipmentType && equipmentPlugLoad.id">
  <ngb-panel
    [title]="equipmentPlugLoad.type === 'Combination Oven' || equipmentPlugLoad.type === 'Cooking Range' ? 'Combination Oven' : 'Convection Oven'"
    *ngIf="equipmentPlugLoad.type === 'Combination Oven' || equipmentPlugLoad.type === 'Convection Oven' || equipmentPlugLoad.type === 'Cooking Range' || equipmentPlugLoad.type === 'Stove'">
  </ngb-panel>
  <ngb-panel title="TOU"
    *ngIf="equipmentPlugLoad.type === 'Combination Oven' || equipmentPlugLoad.type === 'Convection Oven' || equipmentPlugLoad.type === 'Cooking Range' || equipmentPlugLoad.type === 'Dishwasher' || equipmentPlugLoad.type === 'Stove' || equipmentPlugLoad.type === 'Electric Oven'">
  </ngb-panel>
  <ngb-panel title="Suggested Time"
    *ngIf="equipmentPlugLoad.type === 'Combination Oven' || equipmentPlugLoad.type === 'Convection Oven' || equipmentPlugLoad.type === 'Cooking Range' || equipmentPlugLoad.type === 'Stove' || equipmentPlugLoad.type === 'Electric Oven'">
  </ngb-panel>
  <ngb-panel title="Other"
    *ngIf="equipmentPlugLoad.type === 'Combination Oven' || equipmentPlugLoad.type === 'Convection Oven' || equipmentPlugLoad.type === 'Cooking Range' || equipmentPlugLoad.type === 'Stove' || equipmentPlugLoad.type === 'Electric Oven'">
  </ngb-panel>

</ngb-accordion> -->


<ngb-accordion [closeOthers]="true">
  <ngb-panel *ngFor="let schema of typeSchema" [id]="'s-' + schema.id" [title]="schema.name">
    <ng-template ngbPanelContent>
      <div *ngFor="let element of schema.schema" class="mb-3">
        <label for="{{schema.id}}-{{element.key}}" class="form-label text-white">{{element.title}}</label>
        <ng-container [ngSwitch]="element.type">
          <select *ngSwitchCase="'select'" [(ngModel)]="formData.data[element.key]" (change)="setDirty()" class="form-select"
            id="{{schema.id}}-{{element.key}}" [attr.aria-describedby]="schema.id + '-' + element.key + '-help'">
            <option *ngFor="let value of element.values.split(',')" [value]="value.substring(value.indexOf(':') + 1)">
              {{value.substring(value.indexOf(':') + 1)}}
            </option>
          </select>
          <textarea *ngSwitchCase="'textArea'" [(ngModel)]="formData.data[element.key]" (change)="setDirty()"
            class="form-control" id="{{schema.id}}-{{element.key}}"
            [attr.aria-describedby]="schema.id + '-' + element.key + '-help'"></textarea>
          <input *ngSwitchDefault [(ngModel)]="formData.data[element.key]" (change)="setDirty()" [type]="element.dataType"
            class="form-control" [step]="element.type === 'textBox' ? 1 : null" id="{{schema.id}}-{{element.key}}"
            [attr.aria-describedby]="schema.id + '-' + element.key + '-help'">
        </ng-container>
        <div id="{{schema.id}}-{{element.key}}-help" class="form-text">{{element.hint}}</div>
      </div>
    </ng-template>
  </ngb-panel>
</ngb-accordion>


<p class="text-center text-muted mt-3 mb-5">
  Don't forget to save when you're done filling out the form!
</p>
<button type="button" class="btn btn-primary btn-lg btn-floating-action" (click)="save()">
  Save
</button>
